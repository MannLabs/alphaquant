# AUTOGENERATED! DO NOT EDIT! File to edit: 16_results_file_handling.ipynb (unless otherwise specified).

__all__ = ['ResultstableLocalizer', 'ResultsFiles']

# Cell
import re
class ResultstableLocalizer():
    def __init__(self, results_dir):
        self._resultsfilepaths = ResultsFiles(results_dir=results_dir).filepaths
        self.condpairname2file = {}
        self._load_condpairname2file()

    def _load_condpairname2file(self):
        for filepath in self._resultsfilepaths:
            filename = self._parse_condpairname_from_filepath(filepath)
            self.condpairname2file.update({filename: filepath})

    @staticmethod
    def _parse_condpairname_from_filepath(file):
        pattern = "(.*\/|^)(results.*\/)(.*)(.results.tsv)"
        matched = re.search(pattern, file)
        return matched.group(3)


import glob
class ResultsFiles():
    def __init__(self, results_dir):
        self._results_dir = results_dir
        self.filepaths = self.__get_result_filepaths()

    def __get_result_filepaths(self):
        return glob.glob(f'{self._results_dir}/*.results.tsv')

